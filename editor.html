<!DOCTYPE html>
<html lang="cs">
<head>
<meta charset="UTF-8">
<title>Editor událostí – Kočičí pracky</title>

<link href="https://fonts.googleapis.com/css2?family=EB+Garamond&display=swap" rel="stylesheet">

<style>
body {
  font-family: 'EB Garamond', serif;
  background: #141414;
  color: #eaeaea;
  max-width: 600px;
  margin: auto;
  padding: 40px;
}
input, textarea, button {
  width: 100%;
  margin-bottom: 15px;
  padding: 10px;
}
button {
  background: #d9a441;
  border: none;
  font-weight: bold;
  cursor: pointer;
}
pre {
  background: #1a1a1a;
  padding: 15px;
  border-radius: 10px;
}
#collage {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
}
#collage img {
  max-width: 100%;
  height: auto;
  border-radius: 10px;
  max-height: 200px;
}
</style>
</head>

<body>

<h2>✍️ Editor událostí</h2>

<input id="quizName" placeholder="Název kvízu">
<input id="date" placeholder="Datum (DD.MM.RRRR)">
<input id="points" type="number" placeholder="Body">
<input id="position" type="number" placeholder="Umístění">
<textarea id="desc" placeholder="Popis"></textarea>

<!-- Přidání pole pro zadání URL obrázků -->
<textarea id="photos" placeholder="Zadejte URL obrázků, oddělené čárkou (např. https://github.com/obrazek1.jpg, https://github.com/obrazek2.jpg)"></textarea>

<button onclick="addEvent()">Přidat</button>

<!-- Oblast pro zobrazení události a koláže obrázků -->
<div id="collage"></div>
<pre id="output"></pre>

<script>
let events = [];

function addEvent() {
  // Získáme zadané URL obrázků
  let photosInput = document.getElementById('photos').value.trim();
  let photoUrls = photosInput.split(',').map(url => url.trim()).filter(url => url !== "");

  // Přidáme novou událost do seznamu
  let newEvent = {
    quizName: document.getElementById('quizName').value,
    date: document.getElementById('date').value,
    points: Number(document.getElementById('points').value),
    position: Number(document.getElementById('position').value),
    description: document.getElementById('desc').value
  };

  // Pokud jsou přítomny obrázky, přidáme je do události
  if (photoUrls.length > 0) {
    newEvent.photos = photoUrls;
  }

  // Přidáme událost na začátek seznamu
  events.unshift(newEvent);

  // Zobrazíme koláž obrázků
  let collageContainer = document.getElementById('collage');
  collageContainer.innerHTML = ''; // Vyčistíme předchozí obrázky
  if (photoUrls.length > 0) {
    photoUrls.forEach(url => {
      let img = document.createElement('img');
      img.src = url;
      collageContainer.appendChild(img);
    });
  }

  // Zobrazíme všechny události v JSON formátu
  document.getElementById('output').textContent = JSON.stringify(events, null, 2);
}
</script>

</body>
</html>
